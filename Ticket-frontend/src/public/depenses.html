<div class="container" >
        <div class="row" >
                
        <div class="col-md-12 text-left">
                <div class="page-header">
                    <h3>
                      
                        <span><i class="fa fa-file-text"></i>Liste des transactions</span>
                    </h3>
                    <p style="color:rgb(38, 136, 195);font-size: 20px;font-weight: bold;"  ng-repeat="item in transaction track by $index" ng-show="$last"> Balance: <span  >{{item.newbalance}}</span> DT</p> 
                    
                </div>
            </div>
            
     </div>

     
           

    



        
<div class="row" >
              <div class="col-md-12 text-left" >
                    
                     <button type="button" class="btn btn-primary  btn-lg" data-toggle="modal" data-target="#myDepenseModal" >
                            <span class="glyphicon glyphicon-plus-sign " aria-hidden="true"></span>
                            Transaction<span ></span>
                     </button>       
            </div> 

            
<div id="myDepenseModal" class="modal fade" role="dialog">
     <div class="modal-dialog">
                  
                      <!-- Modal content-->
        <div class="modal-content">
             <div class="modal-header">
                 <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">
                    <i class="fa fa-plus-square" ></i>Nouvelle transaction
                    </h4>
                    
             </div>
            <div class="modal-body">
                 <div class="row">
                     <div class="col-md-9 classWithPad">
                                        <!---- Invoice title ---->
                          <div class="inputGroupContainer" >
                                 <div class="col-md-3 titleContainer">
                                     <label for="invoiceTitle">
                                          <b class="titleText">
                                                        Titre
                                          <i class="fa fa-asterisk requiredText ng-hide" ng-show="ctrl.invoicesService.isInvoiceFieldsMandatory(invoice.Category, ctrl.getApplicationModel().InvoiceInputNameEnum.InvoiceTitle)"></i>
                                                    </b>
                                    </label>
                                </div>
                                     <div class="col-md-9">
                                                    <input id="depenseTitle" ng-model="trans.name"  class="form-control  inputContainer ng-valid ng-valid-maxlength ng-valid-required" type="text" name="InvoiceTitle" placeholder="Exemple : Déjeuner avec l'équipe" maxlength="50">
                                             
                                    </div>                       
                         </div>
                    </div>

                    <div class="col-md-9 classWithPad">
                            <div class="inputGroupContainer" >
                                <div class="col-md-3 titleContainer">
                                    <label for="invoiceTitle">
                                        <b class="titleText">
                                        Transaction 
                                        <i class="fa fa-asterisk requiredText ng-hide" ng-show="ctrl.invoicesService.isInvoiceFieldsMandatory(invoice.Category, ctrl.getApplicationModel().InvoiceInputNameEnum.InvoiceTitle)"></i>
                                        </b>
                                    </label>
                                </div>
                                <div class="col-md-9  ">        
                                             <select class="form-control" ng-model="trans.type">
                                                <option value="0">Depenses</option>
                                                <option value="1">Revenus</option>
                                              </select>
                                </div>
                            </div>
                        </div>
                  <div class="col-md-9 classWithPad">
                             <div class="inputGroupContainer" >
                                 <div class="col-md-3 titleContainer">
                                        <label for="invoiceTitle">
                                              <b class="titleText">
                                                        Date
                                               <i class="fa fa-asterisk requiredText ng-hide" ng-show="ctrl.invoicesService.isInvoiceFieldsMandatory(invoice.Category, ctrl.getApplicationModel().InvoiceInputNameEnum.InvoiceTitle)"></i>
                                                    </b>
                                                </label>
                                </div>
                                        <div class="col-md-9">
                                                                         
                                                    <div class="input-group"
                                                    moment-picker="ctrl.datepicker"
                                                    format="DD-MM-YYYY"
                                                    locale="fr">
                                                   <span class="input-group-addon">
                                                       <i class="fa fa-calendar"></i>
                                                   </span>
                                                   <input class="form-control"
                                                          placeholder="Selectionner une date"
                                                          ng-model="trans.date"
                                                          ng-model-options="{ updateOn: 'blur' }">
                                                     </div>
                                            
                                        </div>
                              </div>
                   </div>

                                
                                
                    <div class="col-md-9 classWithPad" ng-style="trans.type === '1' ? { 'display':'none' } : { 'display': 'block' }">
                        <div class="inputGroupContainer" >
                            <div class="col-md-3 titleContainer">
                                <label for="invoiceTitle">
                                    <b class="titleText">
                                    Catégorie
                                    
                                    <i class="fa fa-asterisk requiredText ng-hide" ng-show="ctrl.invoicesService.isInvoiceFieldsMandatory(invoice.Category, ctrl.getApplicationModel().InvoiceInputNameEnum.InvoiceTitle)"></i>
                                    </b>
                                </label>
                            </div>
                            <div class="col-md-9">        
                                    <select class="form-control" ng-model="trans.cat">
                                            <option ng-repeat="category in categorie" value="{{category.catvalue}}">{{category.catname}}</option>
                                          </select>
                                         
                            </div>
                        </div>
                    </div>
                    <div class="col-md-9 classWithPad">
                            <div class="inputGroupContainer" >
                                <div class="col-md-3 titleContainer">
                                    <label for="invoiceTitle">
                                        <b class="titleText">
                                        Montant
                                        <i class="fa fa-asterisk requiredText ng-hide" ng-show="ctrl.invoicesService.isInvoiceFieldsMandatory(invoice.Category, ctrl.getApplicationModel().InvoiceInputNameEnum.InvoiceTitle)"></i>
                                        </b>
                                    </label>
                                </div>
                                <div class="col-md-9  ">        
                                        <div class="input-group number-spinner">
                                                <span class="input-group-btn">
                                                    <button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
                                                </span>
                                                <input type="text" ng-model="trans.value" class="form-control text-center" value="1">
                                                <span class="input-group-btn">
                                                    <button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
                                                </span>
                                            </div>
                                </div>
                            </div>
                        </div>
                        
                </div>

            </div>
            <div class="modal-footer">
                
             <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
             <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addTrans(trans)">Sauvegarder</button>
             
            </div>
        </div>
                  
    </div>
</div>

<table class="table">
        <thead class="invoices titles">
                <tr>
                        <th class="text-center">
                             <i class="fa fa-refresh fa-lg refresh-button" aria-hidden="true"  uib-tooltip="Rafraîchir les dépenses" tool="" tooltip-placement="bottom"></i>
                       
                        </th>
                       
                        <th class="invoices title text-center">
                                <span>
                                    Titre
                                    <i class="fa fa-sort">
                                    </i>
                                </span>
                         </th>
                         
                         <th class="invoices title text-center">
                                <span>
                                    Catégorie
                                    <i class="fa fa-sort">
                                    </i>
                                </span>
                         </th>
                         <th class="invoices title text-center">
                                <span>
                                    Date
                                    <i class="fa fa-sort">
                                    </i>
                                </span>
                         </th>
                         <th class="invoices title text-center">
                                <span>
                                    Montant
                                    <i class="fa fa-sort">
                                    </i>
                                </span>
                         </th>
                         <th class="invoices title text-center">
                                <span>
                                    Actions
                                    <i class="fa ">
                                    </i>
                                </span>
                         </th>
                         </tr>
       </thead>
       <tbody ng-repeat="depense in transaction" ng-class="{income: depense.deptype == 1 , outcome: depense.deptype == 0}" >
        <td></td>
        
        <td >{{depense.depname}}</td>
        <td><img src="{{catIconMapping[depense.depcat]}}" /></td>
        <td >{{depense.depdate}}</td>
        <td >{{depense.depamount}}</td>

        
        <td class="invoice-action-td">
                <div class="flex">
                    <button type="button" class="btn btn-primary"aria-hidden="true"><i class="fa fa-lg fa-pencil" ></i></button>
                </div>
            </td>
        
        
        



       </tbody>


</table>


            </div>
            



              
 </div>